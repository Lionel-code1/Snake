<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #121212;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            color: white;
        }

        #canvas {
            border: 2px solid #ffffff;
            margin-bottom: 10px;
        }

        #bottomBar {
            width: 100%;
            background-color: #1e1e1e;
            padding: 10px 0;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            position: absolute;
            bottom: 0;
        }

        .controlButton {
            background-color: #3b3b3b;
            border: none;
            color: white;
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        .controlButton:hover {
            background-color: #5a5a5a;
        }

        #score {
            font-size: 18px;
            position: absolute;
            top: 10px;
            left: 10px;
        }

    </style>
</head>
<body>

<canvas id="canvas" width="480" height="480"></canvas>
<div id="Spotify"><iframe style="border-radius:12px" 
        src="https://open.spotify.com/embed/playlist/37i9dQZF1DWWY64wDtewQt?utm_source=generator" 
        width="100%" height="352" frameBorder="0" allowfullscreen="" 
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
</iframe>



      </div>
    </div>
  </section>
</div>
<div id="score">Score: 0</div>

<div id="bottomBar">
    <button class="controlButton" id="pauseButton">Start/Pause</button>
    <button class="controlButton" id="restartButton">Restart</button>
</div>

<script>
    let canvas = document.getElementById('canvas');
    let ctx = canvas.getContext('2d');
    let rows = 20;
    let cols = 20;
    let snake = [{ x: 9, y: 3 }];
    let cellWidth = canvas.width / cols;
    let cellHeight = canvas.height / rows;
    let foodCollected = false;
    let direction = 'LEFT';
    let food = null;
    let score = 0;
    let gamePaused = true;

    placeFood();
    document.addEventListener('keydown', keyDown);

    // Pause Button functionality
    document.getElementById('pauseButton').addEventListener('click', togglePause);
    document.getElementById('restartButton').addEventListener('click', restartGame);

    // Main game loop
    setInterval(gameLoop, 138);

    function gameLoop() {
        if (gamePaused) return;

        testGameOver();
        shiftSnake();

        if (foodCollected) {
            snake = [{ x: snake[0].x, y: snake[0].y }, ...snake];
            foodCollected = false;
        }

        // Moving the snake based on the direction
        if (direction == 'LEFT') {
            snake[0].x--;
        }

        if (direction == 'RIGHT') {
            snake[0].x++;
        }

        if (direction == 'UP') {
            snake[0].y--;
        }

        if (direction == 'DOWN') {
            snake[0].y++;
        }

        if (snake[0].x === food.x && snake[0].y === food.y) {
            foodCollected = true;
            score += 10; // Increase score on food collection
            placeFood();
        }

        draw();
    }

    function testGameOver() {
        let firstPart = snake[0];
        let otherParts = snake.slice(1);
        let duplicatePart = otherParts.find(part => part.x === firstPart.x && part.y === firstPart.y);

        if (snake[0].x < 0 || snake[0].x >= cols || snake[0].y < 0 || snake[0].y >= rows || duplicatePart) {
            alert("Game Over! Click Restart to play again.");
            restartGame();
        }
    }

    function restartGame() {
        snake = [{ x: 9, y: 3 }];
        direction = 'LEFT';
        score = 0;
        placeFood();
        gamePaused = false;
        document.getElementById('score').textContent = 'Score: ' + score;
    }

    function togglePause() {
        gamePaused = !gamePaused;
        document.getElementById('pauseButton').textContent = gamePaused ? 'Resume' : 'Pause';
    }

    function placeFood() {
        let randomX = Math.floor(Math.random() * cols);
        let randomY = Math.floor(Math.random() * rows);
        food = { x: randomX, y: randomY };
    }

    function draw() {
        ctx.fillStyle = 'black';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Draw the snake
        ctx.fillStyle = 'lime';
        snake.forEach(part => add(part.x, part.y));

        // Draw the food
        ctx.fillStyle = 'red';
        add(food.x, food.y);

        // Update score
        document.getElementById('score').textContent = 'Score: ' + score;
    }

    function add(x, y) {
        ctx.fillRect(x * cellWidth, y * cellHeight, cellWidth - 1, cellHeight - 1);
    }

    function shiftSnake() {
        for (let i = snake.length - 1; i > 0; i--) {
            const part = snake[i];
            const lastPart = snake[i - 1];
            part.x = lastPart.x;
            part.y = lastPart.y;
        }
    }

    function keyDown(e) {
        if (e.keyCode === 37 && direction !== 'RIGHT') { // Left Arrow
            direction = 'LEFT';
        }
        if (e.keyCode === 38 && direction !== 'DOWN') { // Up Arrow
            direction = 'UP';
        }
        if (e.keyCode === 39 && direction !== 'LEFT') { // Right Arrow
            direction = 'RIGHT';
        }
        if (e.keyCode === 40 && direction !== 'UP') { // Down Arrow
            direction = 'DOWN';
        }
    }
</script>

</body>
</html>